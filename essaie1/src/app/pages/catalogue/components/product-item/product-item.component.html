<div class="relative  flex flex-col items-center justify-center ">
    <div class="container">
        <div
            class="max-w-md w-full bg-white rounded-lg shadow-[0px_0px_12px_0px_rgba(32,181,38,0.32)] border border-[#2c732f] duration-300 hover:scale-103 p-6">
            <div class="flex flex-col ">
                <div class="">
                    <div class="relative h-62 w-full mb-3">
                        <div class="absolute flex flex-col top-0 right-0 p-3">
                            <button
                                class="transition ease-in duration-300  shadow hover:shadow-md text-red-500 border rounded-full w-8 h-8 text-center p-1">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-red-500" fill="none"
                                    viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                        </div>
                        <div class="relative overflow-hidden"> <!-- Ajout de overflow-hidden ici -->
                            <button class="cursor-pointer w-full" (click)=onLoadViewDetail(produit.id)>
                                <img [src]="produit.photos[0].imagePath" [alt]="produit.libelle"
                                    class="w-full h-62 object-cover rounded-2xl">
                                @if (produit.promo) {
                                <span
                                    class="absolute top-0 left-0 w-28 translate-y-4 -translate-x-6 -rotate-45 bg-red-600 text-center text-sm text-white">Promo
                                </span>
                                }
                            </button>
                        </div>

                    </div>
                    <div class="flex-auto justify-evenly">
                        <div class="flex flex-wrap ">
                            <!-- <div class="w-full flex-none text-sm flex items-center text-gray-600">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-red-500 mr-1"
                                    viewBox="0 0 20 20" fill="currentColor">
                                    <path
                                        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                </svg>
                                <span class="text-gray-400 whitespace-nowrap mr-3">{{produit.note}}</span>
                            </div> -->
                            <div class="flex items-center w-full justify-between min-w-0 ">
                                <div class="w-full flex items-center justify-between">
                                    <h5 class="text-xl font-semibold truncate block capitalize text-slate-900">
                                        {{produit.libelle}}
                                    </h5>
                                    <span class="uppercase text-xs">{{produit.category}}</span>
                                </div>

                                <!-- <div
                                    class="flex items-center {{produit.isdispo ? 'bg-green-400' : 'bg-red-500'}} text-white text-xs px-2 py-1 ml-3 rounded-lg">

                                    {{produit.isdispo ? 'INSTOCK' : 'OUT OF STOCK'}}
                                </div> -->

                            </div>
                        </div>
                        <div class="mt-2 mb-3 flex items-center justify-between">
                            @if (produit.promo) {
                            <p>
                                <span class="text-3xl font-bold text-slate-900">{{produit.newPrix}}
                                    <span class="text-xl">FCFA</span>
                                </span>
                                <span class="text-sm ml-1 text-red-700 line-through">{{produit.prix}}FCFA</span>
                            </p>
                            }@else {
                            <p>
                                <span class="text-3xl font-bold text-slate-900">{{produit.prix}}
                                    <span class="text-2xl">FCFA</span>
                                </span>
                            </p>
                            }

                            <div class="flex items-center justify-end">
                                <ng-container *ngFor="let star of [].constructor(produit.note); let i = index">
                                    <svg width="16" height="15" viewBox="0 0 16 15" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M8.31008 11.9111L11.8566 14.1577C12.31 14.4446 12.8725 14.0177 12.7381 13.4884L11.7138 9.45805C11.6848 9.34579 11.6882 9.22764 11.7234 9.11718C11.7586 9.00673 11.8243 8.90846 11.9129 8.83368L15.0933 6.18711C15.5106 5.83949 15.2958 5.14593 14.7586 5.11105L10.6056 4.84105C10.4938 4.83312 10.3866 4.79359 10.2964 4.72707C10.2061 4.66055 10.1367 4.56977 10.096 4.4653L8.5469 0.564927C8.50471 0.454081 8.42984 0.358673 8.33219 0.291355C8.23455 0.224037 8.11875 0.187988 8.00015 0.187988C7.88155 0.187988 7.76574 0.224037 7.6681 0.291355C7.57046 0.358673 7.49558 0.454081 7.4534 0.564927L5.90427 4.4653C5.86372 4.56988 5.79429 4.66077 5.70406 4.7274C5.61383 4.79402 5.50652 4.83364 5.39465 4.84161L1.24171 5.11161C0.705084 5.14593 0.489084 5.83949 0.907022 6.18711L4.0874 8.83424C4.17588 8.90898 4.2415 9.00715 4.27673 9.11749C4.31195 9.22783 4.31534 9.34587 4.28652 9.45805L3.33702 13.1959C3.17558 13.8309 3.85115 14.3434 4.39452 13.9986L7.69077 11.9111C7.78342 11.8522 7.89093 11.8209 8.00071 11.8209C8.11049 11.8209 8.218 11.8522 8.31065 11.9111H8.31008Z"
                                            fill="#FF8A00"></path>
                                    </svg>
                                </ng-container>
                                <p>({{produit.note}})</p>
                            </div>
                        </div>


                        <button (click)="onAddToPanier()"
                            class="flex cursor-pointer w-full items-center justify-center rounded-md bg-[#20B526] px-5 py-2.5 text-center text-sm font-medium text-white ">
                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-2 h-6 w-6" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                            </svg>
                            Add to cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>